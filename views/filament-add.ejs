<%- include("partials/head") %>
<%- include("partials/header") %>
<%- include("partials/nav") %>

<!--
  We reuse the same main layout class so this page visually matches
  the rest of your portfolio.
-->
<main class="resume-layout">
  <section class="filament-layout">
    <!--
      Intro card: explains what this "Add filament" page does.
      This is especially helpful for someone reviewing your project,
      because they understand this is more of a demo/editor.
    -->
    <section class="card filament-intro">
      <h1>Add filament</h1>
      <p>
        This form lets you draft a new filament entry and see in real time how it would
        appear in the list below.
      </p>
      <p>
        <a href="/filament" class="project-link project-link-secondary">
          ← Back to Filament Finder
        </a>
      </p>
    </section>

    <!--
      Form card: all inputs for creating a new filament.
      The layout uses the same "filament-field" class as the filter card,
      so styling is consistent across the project.
    -->
    <section class="card filament-add-card">
      <h2>New filament</h2>
      <form id="filament-add-form" class="filament-add-form">
        <!-- Brand input -->
        <div class="filament-field">
          <label for="add-brand">Brand</label>
          <input
            type="text"
            id="add-brand"
            name="brand"
            placeholder="e.g. Prusament"
          />
        </div>

        <!-- Product name input -->
        <div class="filament-field">
          <label for="add-product">Product name</label>
          <input
            type="text"
            id="add-product"
            name="product_name"
            placeholder="e.g. PLA Jet Black"
          />
        </div>

        <!-- Material dropdown, filled from JSON by filament-add.js -->
        <div class="filament-field">
          <label for="add-material">Material</label>
          <select id="add-material" name="material">
            <!-- will be filled with materials[] from filaments.json -->
          </select>
        </div>

        <!-- Color dropdown, restricted to black/white or none for simplicity -->
        <div class="filament-field">
          <label for="add-color">Color</label>
          <select id="add-color" name="color">
            <option value="">no color</option>
            <option value="black">black</option>
            <option value="white">white</option>
          </select>
        </div>

        <!-- Nozzle temperature range (min) -->
        <div class="filament-field">
          <label for="add-nozzle-min">Nozzle min (°C)</label>
          <input
            type="number"
            id="add-nozzle-min"
            name="nozzle_temp_min"
            placeholder="e.g. 200"
          />
        </div>

        <!-- Nozzle temperature range (max) -->
        <div class="filament-field">
          <label for="add-nozzle-max">Nozzle max (°C)</label>
          <input
            type="number"
            id="add-nozzle-max"
            name="nozzle_temp_max"
            placeholder="e.g. 220"
          />
        </div>

        <!-- Bed temperature range (min) -->
        <div class="filament-field">
          <label for="add-bed-min">Bed min (°C)</label>
          <input
            type="number"
            id="add-bed-min"
            name="bed_temp_min"
            placeholder="e.g. 50"
          />
        </div>

        <!-- Bed temperature range (max) -->
        <div class="filament-field">
          <label for="add-bed-max">Bed max (°C)</label>
          <input
            type="number"
            id="add-bed-max"
            name="bed_temp_max"
            placeholder="e.g. 60"
          />
        </div>

        <!-- Optional "special type" label such as wood, silk, carbon-fiber -->
        <div class="filament-field">
          <label for="add-special-type">Special type (optional)</label>
          <input
            type="text"
            id="add-special-type"
            name="special_type"
            placeholder="e.g. wood, silk, carbon-fiber"
          />
        </div>

        <!-- Notes textarea: short description or print tips -->
        <div class="filament-field filament-field-notes">
          <label for="add-notes">Notes</label>
          <textarea
            id="add-notes"
            name="notes"
            rows="3"
            placeholder="Short description or print tips…"
          ></textarea>
        </div>

        <!--
          Action area.
          Right now you have one main action: "Save filament".
          The JavaScript both updates the preview (on change) and
          sends a POST when this button is clicked.
        -->
        <div class="filament-actions">
          <button type="button" id="filament-save" class="btn-primary">
            Save filament
          </button>
        </div>
      </form>
    </section>

    <!--
      Preview card: shows a live sample of how the filament would look
      in the main Filament Finder list.
      filament-add.js fills this dynamically.
    -->
    <section class="card filament-results-card">
      <h2>Preview in list</h2>
      <div id="filament-add-preview" class="filament-grid"></div>
    </section>
  </section>

  <!-- Attach the JS file that drives this page -->
  <script src="/js/filament-add.js" defer></script>
</main>

<%- include("partials/footer") %>
